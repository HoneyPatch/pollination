require "bundler/gem_tasks"


$LOAD_PATH.unshift File.expand_path("../lib", __FILE__)

require 'takeoff'
require 'pp'

namespace :takeoff do

  desc "Start the predefined instance"
  task :start do
    pp "starting the instance"
    bee = Takeoff::WorkerBee.new

    # files to upload
    instances = Dir[File.join(File.dirname(__FILE__),'../pollinate/Instances/*.zip')]
    bee.create_workers(1)

    # now upload the files and let it do its job
    bee.upload_files(instances)




  end

end


def is_windows?
  RUBY_PLATFORM =~ /mswin|mingw|cygwin/
end


