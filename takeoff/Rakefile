require "bundler/gem_tasks"


$LOAD_PATH.unshift File.expand_path("../lib", __FILE__)

require 'takeoff'
require 'pp'

namespace :takeoff do

  desc "Start the predefined instance"
  task :start do
    pp "starting the instance"
    bee = Takeoff::WorkerBee.new

    number_of_instances = 1


    # files to upload

    #bee.create_workers(number_of_instances)

    number_of_instances.times do |i|
      instances = File.join(File.dirname(__FILE__),"../pollinate/Instances/system_#{i}.zip")
      bee.upload_file(instances)
    end
    # now upload the files and let it do its job

  end

  desc "Download the results"

end


def is_windows?
  RUBY_PLATFORM =~ /mswin|mingw|cygwin/
end


